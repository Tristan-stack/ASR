{% extends 'base.html.twig' %}

{% block body %}
    <a href="#" id="link1" class="active">Gestion comptes</a>
    <a href="#" id="link2">Gestion categories</a>
    <a href="#" id="link3">Gestion communes</a>

    <div id="content1">
        <h1>Bienvenue sur la liste des comptes</h1>

    <table>
        <thead>
            <tr>
                <th>Id</th>
                <th>Email</th>
                {# <th>Roles</th> #}
            </tr>
        </thead>
        <tbody>
            {% for user in users %}
                {% if user.id != session.id %}
                    <tr>
                        <td>{{ user.id }}</td>
                        <td>{{ user.email }}</td>
                        <td>
                            {% if session.role_id == 1 %}
                                <a href="controleur.php?page=user&action=update&id={{user.id}}">Modifier</a>
                                <a href="controleur.php?page=user&action=delete&id={{user.id}}">Supprimer</a>
                            {% endif %}
                        </td>
                    </tr>
                {% endif %}
            {% endfor %}
        </tbody>
        <h3><a href="controleur.php?page=user&action=create">Ajouter</a> un utilisateur</h3>
    </table>
    </div>

    <div id="content2" style="display: none;">
        <h1>OUI</h1>
    </div>
    <div id="content3" style="display: none;">
        <h1>NON</h1>
    </div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script>
        $(document).ready(function(){
            $("#link1").click(function(){
                $("#content1").show();
                $("#content2").hide();
                $("#content3").hide();
                $(".active").removeClass("active");
                $(this).addClass("active");
            });

            $("#link2").click(function(){
                $("#content1").hide();
                $("#content2").show();
                $("#content3").hide();
                $(".active").removeClass("active");
                $(this).addClass("active");
            });

            $("#link3").click(function(){
                $("#content1").hide();
                $("#content2").hide();
                $("#content3").show();
                $(".active").removeClass("active");
                $(this).addClass("active");
            });
        });
    </script>
{% endblock %}